# 研发测试流程规范初步梳理

# 一、研发测试流程

- 需求评审
- 项目立项
- 需求研发
- 需求测试
- 上线评审
- 发布
- 验收

# 二、需求评审

- 产品根据需求改造涉及的相关方，把所有相关人员都拉会进行需求评审
- 需求评审过程中的分歧点和待确认点，需要在需求评审会结束后同步，涉及需求文档修改的评估是否需要进行二次评审
- 需求的合理性和必要性
- 需求的优先级确认

# 三、项目立项

- 项目立项会之前，线下确认项目责任认，开发责任人，测试责任人
- 项目立项会确定项目排期计划

# 四、研发提测规范

## 4.1、提测模板

开发提测内容需包含：提测需求名称，提测环境，提测版本信息，计划提测时间，实际提测时间，延期原因（如有），提测范围，影响范围，开发自测内容及自测结论，前后端开发联调内容及联调结论，第三方依赖联调内容及联调测试结论（如有），提测附件（需求文档，详设文档，接口文档、UE设计稿）。

## 4.2 提测内容

### 4.2.1 提测需求名称

- 提测邮件需写明本次提测的模块和需求

### 4.2.2 提测环境

- 提测邮件需写明模块的提测环境（test/fat1/fat2...）

### 4.2.3 提测版本信息

- 提测邮件需写明提测代码的版本信息：Gitlab、分支或tag、Sql、nginx、中间件及版本、依赖

### 4.2.4 计划提测时间

- 提测邮件需写明原计划的提测时间

### 4.2.5 实际提测时间

- 提测邮件需写明实际提测时间

### 4.2.6 提测延期原因

- 如提测延期，需在提测邮件中写明延期的原因

### 4.2.7 提测范围

- 提测邮件中需明确提测范围：提测的改动点和测试的类型。提测内容需准确完整。
- 测试类型：功能测试，接口测试，稳定性测试，兼容性测试，性能测试，回归测试，走查...

### 4.2.8 提测影响范围

- 本次提测内容对其他模块/功能有影响的，需在邮件中写明预计的影响范围，以便测试做影响性测试

### 4.2.9 自测内容及结论

- 提测邮件中需要包含开发的自测内容和自测结论

### 4.2.10 联调测试内容及结论

- 本次提测涉及联调的，需要在提测邮件中写明联调测试内容及联调测试结论。

包含不限于：前后端之间联调，后端和后端之间联调，前后端跟第三方依赖之间联调。

### 4.2.11 提测附件

- 提测邮件中需附上截至提测时间点 最新的需求文档附件，最新的详设文档附件，最新的接口设计文档附件，最新的UE设计稿（如有）。
- 提测后有任何改动，在该提测邮件的基础上做更新通知，邮件通知所有相关方。

# 五、测试排期

## 5.1 制定测试计划

项目立项后，测试负责人根据项目的整体版本计划、开发提测计划、人力分配情况制定合理的测试计划

## 5.2 测试计划调整

以下情况需要根据实际影响的测试时长，对应调整测试计划，同步更新版本上线计划

- 开发提测延期
- 冒烟测试不通过，重新提测
- 版本质量太差打回，重新提测
- 测试环境出现故障导致测试中断
- 需求变更，评估修改点比较大，开发需要重新开发，测试需要重新编写测试用例
- 紧急需求插入
- 其他突发情况

# 六、测试用例管理

## 6.1 测试用例编写

1. 测试用例基于需求Prd，详设，接口文档，UI设计图来设计
2. 测试用例需符合用例编写规范
3. 测试用例需覆盖功能测试（前后端），UI测试，异常测试，兼容性测试，性能测试，数据库测试，安全测试，正向/逆向场景，边界场景
4. 测试用例可复用

## 6.2 测试用例评审

1. 测试用例评审需相关方全员参与（产品，开发，测试，UI..）
2. 测试用例评审结论要同步，并根据评审结论对测试用例做修改和补充更新
3. 修改后的测试用例需要再次评审或同步所有评审人员再次check

## 6.3 测试用例执行

1. 测试用例评审完成并修改完成后，及时导入MeterSphere用例库
2. 提测后，建立对应的测试计划，严格按照测试用例执行，执行后及时在用例管理平台标注测试结果
3. 测试用例出现fail的，标注测试结果并同步在Jira提交bug跟踪

## 6.4 测试用例维护

1. 测试用例库需定期维护，做到用例可复用
2. 已经导入MerterSphere的用例，在测试过程中发现用例不适用，要及时修改更新
3. 测试场景遗漏的，及时补充测试用例并导入用例库
4. 需求有变更导致用例需要增删改的，线下修改用例后同步导入用例库
5. 手工执行测试case和自动化执行case均需要定期维护更新

# 七、测试准入标准

## 7.1 提测邮件

- 开发提测邮件未按照提测模板编写，提测内容关键项有缺失，QA有权将本次提测打回

## 7.2 开发自测/联调

- 前后端共性：开发自测结论需为通过，联调测试结论需为通过，任何一项不通过，QA有权将本次提测打回
- 前端：需保证跟后端联调测试通过后再提测，不接受mock接口来测试

## 7.3 冒烟测试

- 冒烟测试满足冒烟测试要求，测试通过

# 八、测试挂起/恢复标准

## 8.1 测试挂起标准

### 8.1.1 冒烟测试

- 冒烟测试case，除主流程case和新需求case外，涉及兼容性的测试，将兼容性case加入冒烟测试case中
- 后端：主要业务流程不通，或需求明显缺失，QA将本次提测打回
- 前端：有明显UI不符或需求明显缺失，QA将本次提测打回
- 冒烟测试中，显而易见/影响基本功能bug不能超过1个（待定），否则QA打回本次提测
- 新老兼容，前后端兼容未做或方案不达标，QA打回本次提测

### 8.1.2 系统测试

1. 基本功能测试出现严重致命问题，block业务主流程
2. 版本质量太差，超过50%的用例执行fail或block
3. 修复bug导致版本质量下降，版本测试后期bug量出现突增，bug趋势无法收敛
4. 测试环境出现故障，无法继续测试
5. 需求变更导致修改点较大，版本排期变更
6. 其他紧急需求插入，需调整当前测试计划

## 8.2 测试恢复标准

1. 开发自测通过，重新提测，冒烟测试基本功能测试通过，可继续测试
2. 版本重新提测，用例执行通过率70%以上，可继续测试
3. bug修复后重新提测，开发自测通过，可继续测试
4. 测试环境修复，可继续测试，故障期间导致的测试延期时长需加到版本计划，重新调整版本计划
5. 需求排期调整后，按照新排期测试
6. 紧急需求上线后，根据最新排期继续下个版本测试

# 九、Bug创建、流转

## 9.1 bug创建

- bug描述：bug的简要描述以标题形式展示，以简练的语言描述不过的现象；bug的详细描述需要将bug的复现步骤、预设前提、预期结果、实际结果描述清楚
- bug定级：严格按照缺陷定级规范定级
- bug复现：必现类bug写明必现，非必现bug写明复现概率
- bug附件：bug出现的截图/视频/log，便于开发快速定位问题

## 9.2 bug流转

- bug出现后，测试先初步分析可能的原因，线下知会相关开发，并同步提交到jira
- bug经办人分析后是由自己来修改，则按照bug正向流转规范修复问题
- bug经办人分析后需要由其他开发一起修改，或定位后需要其他模块开发修改，请将定位到的原因加到jira里，并将该bug流转到对应经办人
- bug经开发确认后，属于需求不明确或者待产品确认的，开发将经办人转给对应产品人员

## 9.3 bug关闭

- 开发修复bug后，及时将bug状态改为已解决，不改状态的QA默认bug未解决，不会进行验证流程
- 开发修复的bug，测试验证后仍未解决/部分未解决，bug状态改为reopen后继续流转给对应开发
- 开发修改bug后引起了其他的问题，测试将新的问题提交jira并将之前修复的bug做关联
- bug状态为已解决后，测试启动测试验证流程，对该bug出现的问题以及影响的范围做测试验证，测试通过后关闭bug。

# 十、测试准出标准

- 按照测试计划和测试用例，完成所有的测试活动
- 测试结果符合测试覆盖率的要求：需求覆盖率100%，用例执行率100%
- bug修复率达标：一般及以上级别bug全部修复，无open/reopen/处理中bug
- 系统功能满足需求文档和设计文档的要求
- 所有测试报告均已输出，测试结论为通过                     

# 十一、上线评审

- 产品人员和UE在上线前进行pre验收测试，确认产品的功能是否与需求文档和UE图相符
- 上线前一天进行上线评审会：测试活动完成情况、bug修复情况、发布清单录入
- 遗留bug评审：对遗留有争议性的bug，确定本期是否必须修改，可以等待下一阶段修改的bug，切到postpone状态。

# 十二、发布

- 发布前一天，产品和开发填写发布服务清单，下班前测试会做最后的确认，不在服务清单的原则上不予发布
- 各端待发布服务的依赖关系及发布顺序在发布前要确认好，以文档形式输出，同步各相关方
- 发布前制定好发布失败回滚措施，同步运维
- 发布前通知，发布过程中通知，发布完成通知，同步运维方

# 十三、验收

- 发布完成，测试和开发先进行线上验证
- 测试线上验证通过，通知产品验收
- 产品验收过程中，相关开发和测试需在，验收完毕后再下班
- 验收过程中出现的问题做记录，需本次修复的严重问题需要修复完成后再次上线，上线后再次启动验证和验收流程；可下次优化的提jira跟踪，下个版本优化